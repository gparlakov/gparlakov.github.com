<!DOCTYPE html>
<html>
	<head>
		<title>1.CreateRandomDivs</title>	
		<link type="text/css" rel="stylesheet" href = "styles/commonStyles.css" />		
	</head>
	<body>
		<h2>
			Create a module for working to work with DOM. The module should have the following functionality:
		</h2>	
		<div id="condition">          
            <ul>
                <li>Add element to parent element by given selector   </li>
                <li>Remove element from the DOM  by given selector    </li>
                <li>Attach event to given selector by given event type and event hander </li>
                <li>Add elements to buffer, which appends them to the DOM when their for some selector count becomes 100 </li>
                <li>The buffer contains elements for each selector it gets</li>
                <li>Get elements by CSS selector</li>
                <li>The module should reveal only the methods</li>
			</ul>
		</div>

		<form action="#" method="GET">
            <fieldset>
                <legend>Add element</legend>                
                <label for="typeElem">Type Element</label>
                <select id="typeElem" >
                    <option value="p">p</option>
                    <option value="div">div</option>
                    <option value="span">span</option>
                    <option value="a">a</option>
                </select>
                <label for="parentToAddTo">Where to add it?</label>
                    <select id="parentToAddTo">
                        <option value="#gray">#gray</option>
                        <option value=".red">.red</option>
                        <option value="#blue">#blue</option>
                    </select>
                <a onclick='addChild()'>Add</a> 
            </fieldset> 
               
           <fieldset>
                <legend>Remove Element</legend>                
                <label for="typeElemToRemove">Type Element</label>
                <select id="typeElemToRemove" >
                    <option value="p">p</option>
                    <option value="div">div</option>
                    <option value="span">span</option>
                    <option value="a">a</option>
                </select>
                <label for="parentToRemoveFrom">Where to remove it from?</label>
                    <select id="parentToRemoveFrom">
                        <option value="#gray">#gray</option>
                        <option value=".red">.red</option>
                        <option value="#blue">#blue</option>
                    </select>
                 <a onclick='deleteChild()'>Remove</a>	 
            </fieldset> 

             <fieldset>
                <legend>Add Event To</legend>                
                <label for="typeElemToAddEventTo">Type Elem To Add Event To</label>
                <select id="typeElemToAddEventTo" >
                    <option value="p">p</option>
                    <option value="div">div</option>
                    <option value="span">span</option>
                    <option value="a">a</option>
                </select>
                <label for="eventToAddTo">On what event?</label>
                <select id="eventToAddTo">
                    <option value="onclick">onclick</option>
                    <option value="onmouseover">onmouseover</option>                    
                </select>                                 
                <a onclick='addEventHandler()'>Add Event Handler</a>	
                <p>As event handler I use change color to red and back to original.</p>
            </fieldset> 

		</form>
		
		<div id="blue" class="result">
            <!-- Elements go in here -->
		</div>
        <div class="red result">
            <!-- Elements go in here -->
        </div>
		
        <div id="gray" class="result">
            <!-- Elements go in here -->
        </div>

		<script src="scripts/domModule.js"></script>
		<script>
		    function addChild() {
		        var typeElement = document.getElementById('typeElem').value;
		        var parentSelector = document.getElementById('parentToAddTo').value;
		        var elem = document.createElement(typeElement);
		        elem.innerHTML = 'new ' + typeElement + ' added';
		        domModule.addChild(elem, parentSelector);
            }

            function deleteChild() {		    
                var parentSelector = document.getElementById('parentToRemoveFrom').value;
                var elemSelector = document.getElementById('typeElemToRemove').value;
                domModule.deleteChild(elemSelector, parentSelector);    
            }

            //changes color to rad and back to original on click
            function addEventHandler() {
                var elemSelector = document.getElementById('typeElemToAddEventTo').value;
                var event = document.getElementById('eventToAddTo').value;

                domModule.attachEvent(elemSelector, event, function (ev) {
		            var target = ev.currentTarget;
		            if (target.style.backgroundColor !== "red"){
		                target.style.backgroundColor = "red";
		            }
		            else{
		                target.style.backgroundColor = "";
		            }		        
		        });
		    }

		    
		</script>
	</body>

 </html>