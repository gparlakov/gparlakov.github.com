<html>
	<head>
	<title>7. Binary Search</title>	
	<style>
			body{
				max-width:90%;
			}
			h2{
				display:block;
				
			}
			input {
				min-width:50px;
			}
			
			#element{
				max-width:30px;
			}
			a{
				color:black;
				display:block;
				background:skyblue;
				max-width:150px;
				text-decoration:none;
				border-radius:5px;
				text-align:center;
				
			}
			a:hover{
				-moz-box-shadow: 	0px 2px 5px #888;
				-webkit-box-shadow: 0px 2px 5px #888;
				box-shadow: 		0px 2px 5px #888;
			}
			a:active
			{
				-moz-box-shadow: 	none;
				-webkit-box-shadow: none;
				box-shadow: 		none;
				color:#555;	
			}			
	</style>
	</head>
	<body>
	<h2>
		Write a program that finds the index of given element in a sorted array of integers by using the binary search algorithm (find it in Wikipedia)
		
	</h2>
	<p>
		for interger arrays 
	</p>
	<form>	
		<p>Write the numbers elements separated by comma(or .;:) 5,7,6,8,2,17,-56,15,35,65,51 62 17 8,9 </p>
		<label for = "sequence">Array:</label>
		<input id = "sequence" />
		
		<label for = "element">Element:</label>
		<input id = "element"/>	
		
		<a href = "#" onclick = "binarySearch()">BinarySearch Element's index</a>
	</form>
	<div id="console"></div>
	<script src = "scripts/js-console.js"></script>
	<script>
	function binarySearch()
	{
		var sequence = jsConsole.read("#sequence");
		var element = jsConsole.read("#element");
		var numbers = new Array();
		var numberArranged = new Array();
		var i,y;		
		
		//replaca all nonword characters with
		sequence = sequence.replace(/[,\.\s;:]/g,",");			
		
		//split String "sequence" and filter it by Number
		numbers = sequence.split(",").filter(Number);
		//sort the numbers array and then use it to find the most common element
		numberArranged = numbers.sort(orderNumbers);
		jsConsole.writeLine(numberArranged.join('|'));
		if(sequence.length === 0)
		{
			jsConsole.writeLine("Empty numbers");
		}
		else
		{				
			jsConsole.writeLine(binarySearchFunc(numberArranged.join(','), element));			
		}	
	}
	 //index of element or -(index) of where should be
	function binarySearchFunc(orderedIntegerArray, element)
	{
		var arr = orderedIntegerArray.split(',');		
		var middle = Math.floor(arr.length / 2); 	
		var left = 0;
		var right = arr.length - 1;
		
		while(left < right - 1 )
		{
			if(arr[middle] === element)
			{
				return middle;
			}
			else if(arr[middle] - element < 0)
			{
				left = middle;				
			}
			else if(arr[middle] - element > 0)
			{
				right = middle;
			}
			
			middle = Math.floor( right - (right - left) / 2);
				
		}
		if(arr[right] === element)
		{
		return right; //index of element
		}
		else
		{
		return -right;// minus index where should be
		}
		
		
	}
	
	//gives the index of the smallest
	function orderNumbers(a,b){
		var result = 0;
		
		if (Number(a) < Number(b))
		{
			result = -1;
		}
		else{
			result = 1;
		}
		
		return result;
	}
	</script>
	</body>

 </html>