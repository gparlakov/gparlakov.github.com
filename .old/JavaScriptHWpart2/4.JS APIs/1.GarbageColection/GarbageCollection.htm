<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Garbage collection</title>
    <link href="styles/garbage-styles.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <button onclick = "startGame()" id="startButton" >Start</button>
    <button onclick = "showHighScore()" id="showHighScore" >Show high-score</button>
    <button onclick = "clearHighScore()" id="clearHightScore" >Clear high-score</button>
    <div id="gameField">
    </div>
    
    <script src="scripts/garbageScrips.js" type="text/javascript"></script>
    <script>

        function startGame() {
            var GAME_DIFFICULTY = 1;
            
            var startButton = document.getElementById("startButton");
            startButton.disabled = true;

            var game = gameGarbageCollection();
            game.initialize(GAME_DIFFICULTY, document.getElementById('gameField'));
            game.startGame();
        }

        function gameFinished() {
            var startButton = document.getElementById("startButton").disabled = false;
        }

        function clearHighScore() {
            var gameField = document.getElementById('gameField');
            gameField.innerHTML = "";
             
            if (localStorage.getItem('highScore')) {
                localStorage.removeItem('highScore');
            }
        }

        function showHighScore() {
            if (localStorage.getItem('highScore')) {
                var gameField = document.getElementById('gameField');
                gameField.innerHTML = '';
                gameFinished();
                scoreKeeping().displayScoreBoard(gameField);
            }
        }
    </script>
</body>
</html>
