import{b as q,z as P,I as g,P as O,h as o,$ as l,w as d,x as v,M as f,c as p,v as i,_ as m,l as y}from"./q-0f391e12.js";import{B as w}from"./q-6e2edd4b.js";import{T}from"./q-b77da3a1.js";import{V as j}from"./q-043f3462.js";const x=t=>{q();const r=P(t,["parsed","signature"]),a=["date","amount","description"],s=g("date"),c=O(p(()=>m(()=>Promise.resolve().then(()=>h),void 0),"s_p0aMMtZ8g04",[s,a])),u=g({});return o(v,{children:t.signature!=null&&o(T,{children:[l("span",{"q:slot":"left-title"},null,d(n=>n.value,[s]),3,null),l("div",{"q:slot":"left-description"},null,Object.entries(t.parsed).map(([n,e])=>{const b="value"in e?typeof e.value=="object"?e.value.toDateString():e.value:"";switch(e.type){case"unknown":return o(v,null,3,"bb_0");case s.value:return l("div",null,{class:"bg-blue-100 inline-block"},b,1,null);default:return o(v,{children:a.indexOf(e.type)<c.value&&l("div",null,{class:"bg-green-50"},[f(e,"type"),": ",b],1,"bb_1")},1,"bb_2")}}),1,null),l("div",{"q:slot":"left-description"},{class:"mb-4"},["This is what we detected to be the most probable ",l("span",null,{class:"bg-blue-100"},d(n=>n.value,[s]),3,null),"."],3,null),l("div",{"q:slot":"left-description"},{class:"mb-4"},"Did we get it right?",3,null),l("div",{"q:slot":"left-description"},{class:"mb-4"}," Confirm or select on the right →",3,null),o(w,{children:"Confirm",class:"btn-success",onClick$:p(()=>m(()=>Promise.resolve().then(()=>h),void 0),"s_e0J4Pq4jl9E",[t,u,s,a]),"q:slot":"left-description",[i]:{class:i,"q:slot":i}},3,"bb_3"),o(j,{first:1,"q:slot":"right",get signature(){return t.signature},...r,children:Object.entries(t.parsed).map(([n,e])=>{const b=e.type===s.value,_=e.type!="unknown"&&u.value[e.type];return b?l("span",{"q:slot":n},{class:"bg-blue-100"}," ← ",3,"bb_4"):_?l("span",{"q:slot":`${_}-before`},{class:"bg-green-50"},f(e,"type"),1,"bb_5"):""}),[i]:{first:i,"q:slot":i,signature:d(n=>n.signature,[t])}},0,"bb_6")]},1,"bb_7")},1,"bb_8")},M=()=>{const[t,r,a,s]=y(),[c]=Object.entries(t.parsed).find(([n,e])=>e.type===a.value)??[];c!=null&&(r.value={...r.value,[a.value]:c});const u=s.indexOf(a.value)+1;u>=s.length||(a.value=s[u])},E=()=>{const[t,r]=y();return r.indexOf(t.value)},h=Object.freeze(Object.defineProperty({__proto__:null,s_IvlTlW8mYxo:x,s_e0J4Pq4jl9E:M,s_p0aMMtZ8g04:E},Symbol.toStringTag,{value:"Module"}));export{x as s_IvlTlW8mYxo,M as s_e0J4Pq4jl9E,E as s_p0aMMtZ8g04};
