import{l as i}from"./q-0f391e12.js";import{d as p}from"./q-e6909596.js";import{m as g}from"./q-0bcf754c.js";import"./q-38c94a1c.js";const C=({track:t,cleanup:s})=>{const[a,e]=i();t(()=>e.page),t(()=>e.size),t(()=>e.refresh),t(a);const n=new AbortController;return s(()=>n.abort("cleanup")),p(a,{field:"amount",desc:!0},{page:e.page,size:e.size}).then(l=>{const{page:o,movements:r}=l.data?.movements??{};return o&&(e.page=o.currentPage,e.totalPages=Math.ceil(o.totalCount/(Number(e.size)||1)),e.totalCount=o.totalCount),r?(e.allIds=r.map(m=>m.id),e.selected.allSelected=!1,e.selected.selected={},r.map(g)):(console.log(JSON.stringify(l.errors)),[])})};export{C as s_JOorkCkthaM};
