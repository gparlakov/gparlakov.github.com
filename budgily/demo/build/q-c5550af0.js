import{b as m}from"./q-29eba519.js";import{a as C}from"./q-29eba519.js";import{c as l}from"./q-caaebdfa.js";import"./q-38c94a1c.js";const g=async()=>{const[n,r,t,e,s]=m();if(s.selectedId==null)return;const o=typeof e.value=="string"&&e.value.trim()!="",i=Array.isArray(s.selectedId)?[...s.selectedId]:[s.selectedId],d=o?{category:{name:e.value,movementIds:i},movementIds:i}:r.value?{categoryId:parseInt(r.value),movementIds:i}:void 0;d&&(t.value=!0,await l(d).then(a=>{t.value=!1,e.value!=null&&a?.id!=null&&(s.allCategories?.push({...a,id:a.id}),e.value=""),r.value=a?.id?.toString(),n&&a&&n({categorize:{...a,id:a.id.toString()}})}).catch(a=>{console.log(a),t.value=!1}))},I=async()=>{const[n,r,t,e]=m();if(r.value){const o=await l({category:{name:r.value},movementIds:[e.selectedId]});o!=null&&(e.allCategories?.push(o),n.value=o.id.toString()),r.value=void 0,t.movement&&(t.movement.categoriesStr=`${o?.name}${t.movement?.categoriesStr.includes("---")?"":`,${t.movement?.categoriesStr}`}`)}else if(n.value&&e.selectedId!=null){await l({categoryId:parseInt(n.value),movementIds:Array.isArray(e.selectedId)?e.selectedId:[e.selectedId]});const s=e.allCategories&&e.allCategories.find(o=>o.id.toString()===n.value)?.name;t.movement&&(t.movement.categoriesStr=`${s}${t.movement?.categoriesStr.includes("---")?"":`,${t.movement?.categoriesStr}`}`)}};export{C as _hW,g as s_33SUjg3pU1s,I as s_sCMcfIQ6b8g};
