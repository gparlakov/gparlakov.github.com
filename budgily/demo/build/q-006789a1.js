import{e as g,Q as O,S as f,t as P,U as o,N as l,O as d,K as _,d as p,z as m,P as i,_ as h,b as q}from"./q-29eba519.js";import{B as T}from"./q-4142b90a.js";import{T as j}from"./q-d3bbe6c7.js";import{V as w}from"./q-2304097b.js";const x=t=>{g();const r=O(t,["parsed","signature"]),a=["date","amount","description"],s=f("date"),c=P(m(()=>h(()=>Promise.resolve().then(()=>y),void 0),"s_p0aMMtZ8g04",[s,a])),u=f({});return o(_,{children:t.signature!=null&&o(j,{children:[l("span",{"q:slot":"left-title"},null,d(n=>n.value,[s]),3,null),l("div",{"q:slot":"left-description"},null,Object.entries(t.parsed).map(([n,e])=>{g();const b="value"in e?typeof e.value=="object"?e.value.toDateString():e.value:"";switch(e.type){case"unknown":return o(_,null,3,"bb_0");case s.value:return l("div",null,{class:"bg-blue-100 inline-block"},b,1,null);default:return o(_,{children:a.indexOf(e.type)<c.value&&l("div",null,{class:"bg-green-50"},[p(e,"type"),": ",b],1,"bb_1")},1,"bb_2")}}),1,null),l("div",{"q:slot":"left-description"},{class:"mb-4"},["This is what we detected to be the most probable ",l("span",null,{class:"bg-blue-100"},d(n=>n.value,[s]),3,null),"."],3,null),l("div",{"q:slot":"left-description"},{class:"mb-4"},"Did we get it right?",3,null),l("div",{"q:slot":"left-description"},{class:"mb-4"}," Confirm or select on the right →",3,null),o(T,{class:"btn-success","q:slot":"left-description",onClick$:m(()=>h(()=>Promise.resolve().then(()=>y),void 0),"s_e0J4Pq4jl9E",[t,u,s,a]),children:"Confirm",[i]:{class:i,"q:slot":i}},3,"bb_3"),o(w,{"q:slot":"right",first:1,get signature(){return t.signature},...r,children:Object.entries(t.parsed).map(([n,e])=>{const b=e.type===s.value,v=e.type!="unknown"&&u.value[e.type];return b?l("span",{"q:slot":n},{class:"bg-blue-100"}," ← ",3,"bb_4"):v?l("span",{"q:slot":`${v}-before`},{class:"bg-green-50"},p(e,"type"),1,"bb_5"):""}),[i]:{"q:slot":i,first:i,signature:d(n=>n.signature,[t])}},0,"bb_6")]},1,"bb_7")},1,"bb_8")},E=()=>{const[t,r,a,s]=q(),[c]=Object.entries(t.parsed).find(([n,e])=>e.type===a.value)??[];c!=null&&(r.value={...r.value,[a.value]:c});const u=s.indexOf(a.value)+1;u>=s.length||(a.value=s[u])},M=()=>{const[t,r]=q();return r.indexOf(t.value)},y=Object.freeze(Object.defineProperty({__proto__:null,s_IvlTlW8mYxo:x,s_e0J4Pq4jl9E:E,s_p0aMMtZ8g04:M},Symbol.toStringTag,{value:"Module"}));export{x as s_IvlTlW8mYxo,E as s_e0J4Pq4jl9E,M as s_p0aMMtZ8g04};
