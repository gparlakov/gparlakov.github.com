import{b as u,q as p,D as d,M as h}from"./q-29eba519.js";import{s as w,v as b}from"./q-8b3e2ada.js";const T=async function(...n){const[s]=u(),a=n.length>0&&n[0]instanceof AbortSignal?n.shift():void 0;{const i=p(),r=n.map(t=>t instanceof SubmitEvent&&t.target instanceof HTMLFormElement?new FormData(t.target):t instanceof Event||t instanceof Node?null:t),l=s.getHash(),m=`?qfunc=${s.getHash()}`,f=await d([s,...r]),e=await fetch(m,{method:"POST",headers:{"Content-Type":"application/qwik-json","X-QRL":l},signal:a,body:f}),c=e.headers.get("Content-Type");if(e.ok&&c==="text/event-stream"){const{writable:t,readable:o}=w();return e.body?.pipeTo(t,{signal:a}),b(o,i??document.documentElement)}else if(c==="application/qwik-json"){const t=await e.text(),o=await h(t,i??document.documentElement);if(e.status===500)throw o;return o}}};export{T as s_wOIPfiQ04l4};
