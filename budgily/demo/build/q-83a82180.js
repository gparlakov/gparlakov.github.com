import{b as i}from"./q-29eba519.js";import{d as p}from"./q-caaebdfa.js";import{m as g}from"./q-282399e3.js";import"./q-38c94a1c.js";const b=({track:t,cleanup:l})=>{const[a,e]=i();t(()=>e.page),t(()=>e.size),t(()=>e.refresh),t(a);const n=new AbortController;return l(()=>n.abort("cleanup")),p(a,{field:"amount",desc:!0},{page:e.page,size:e.size}).then(s=>{const{page:o,movements:r}=s.data?.movements??{};return o&&(e.page=o.currentPage,e.totalPages=Math.ceil(o.totalCount/(Number(e.size)||1)),e.totalCount=o.totalCount),r?(e.allIds=r.map(m=>m.id),e.selected.allSelected=!1,e.selected.selected={},r.map(g)):(console.log(JSON.stringify(s.errors)),[])})};export{b as s_JOorkCkthaM};
