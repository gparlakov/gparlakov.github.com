import{b as v,y as P,c as w,C as b,h as y,U as g,N as l,P as d,O as a,z as r,d as c,w as f,K as h,_ as i}from"./q-29eba519.js";import{C as x}from"./q-196a9214.js";import{C as k}from"./q-4b476995.js";import{P as D}from"./q-4142b90a.js";import{r as E}from"./q-1f2398e8.js";const C=()=>{const[t,u]=v();t.selected.allSelected?(t.selected.allSelected=!1,t.selected.selected={},u.appStore.selectedId=void 0):(t.selected.allSelected=!0,t.selected.selected=t.allIds.reduce((e,o)=>({...e,[o]:!0}),{}),u.appStore.selectedId=t.allIds)},z=`.credit{background-color:#90ee904d}.debit{background-color:#ff00664d}
`,I=z,S=t=>{const[u]=v();t!=u.page&&(u.page=t)},O=()=>{const[t]=v();return navigator?.clipboard.writeText(Object.keys(t.selected.selected).join(","))},V=t=>{P(r(()=>i(()=>Promise.resolve().then(()=>p),void 0),"s_9DPlHmE9HVc"));const u=w(k),e=b({page:1,size:20,selected:b({allSelected:!1,selected:{}}),allIds:[],refresh:1}),o=E(u,e,t.appStore),m=y(()=>{e.refresh+=1});return g(h,{children:[l("div",null,{class:"overflow-x-auto"},[l("details",null,{class:"collapse bg-base-300 collapse collapse-arrow collapse-sm"},[l("summary",null,{class:"collapse-title text-xl/16 p-2.5 min-h-fit"},"Categorize",3,null),l("div",null,{class:"collapse-content"},g(x,{get store(){return t.appStore},onCategorize:m,wide:!0,[d]:{store:a(n=>n.appStore,[t]),wide:d}},3,"dJ_0"),1,null)],1,null),l("table",null,{class:"table table-xs table-pin-rows"},[l("thead",null,null,l("tr",null,null,[l("th",null,null,[l("label",null,null,l("input",null,{type:"checkbox",class:"checkbox checkbox-xs",checked:a(n=>n.selected.allSelected,[e]),onClick$:r(()=>i(()=>Promise.resolve().then(()=>p),void 0),"s_v4sVVl7oFk4",[e,t])},null,3,null),3,null),l("button",null,{title:"Copy selected ids",onClick$:r(()=>i(()=>Promise.resolve().then(()=>p),void 0),"s_JqUMW81M3YE",[e])},l("img",null,{src:"/copy.svg",width:"12",height:"12"},null,3,null),3,null),l("span",null,{class:"w-9 inline-block"},c(Object.entries(e.selected.selected).filter(([,n])=>n),"length"),1,null)],1,null),l("th",null,null,"Amount",3,null),l("th",null,null,"Description",3,null),l("th",null,null,"Type",3,null),l("th",null,null,"Date",3,null),l("th",null,null,"Categories",3,null),l("th",null,null,"Details",3,null)],1,null),1,null),g(f,{value:o,onResolved:n=>g(h,{children:[l("tbody",null,null,n.map(s=>l("tr",{class:c(s,"type")},null,[l("th",null,null,l("input",{value:c(s,"id"),checked:e.selected.selected[s.id],onClick$:r(()=>i(()=>Promise.resolve().then(()=>p),void 0),"s_guJs0HFUDPE",[e,s,t])},{type:"checkbox",class:"checkbox checkbox-xs"},null,2,null),1,null),l("td",null,null,[s.type==="credit"?"+":"-"," ",c(s,"amount")],1,null),l("td",null,null,c(s,"description"),1,null),l("td",null,null,c(s,"type"),1,null),l("td",null,null,new Date(Number(s.date)).toLocaleDateString(),1,null),l("td",null,null,s.categories?.map(_=>_.name).join(","),1,null),l("td",null,null,l("div",null,{class:"dropdown dropdown-bottom dropdown-left"},[l("label",null,{tabIndex:0,class:""},l("img",null,{src:"/copy.svg",width:"12",height:"12"},null,3,null),3,null),l("div",null,{tabIndex:0,class:"dropdown-content z-[1] card card-compact w-64 p-2 shadow bg-primary text-primary-content"},l("div",null,{class:"card-body"},[l("p",null,null,["Type - ",c(s,"type")],1,null),l("p",null,null,["Date - ",new Date(Number(s.date)).toLocaleDateString()],1,null),l("p",null,null,["Raw - ",c(s,"raw")],1,null)],1,null),1,null)],1,null),1,null)],1,s.id)),1,null),l("tfoot",null,null,[l("th",null,null,null,3,null),l("td",null,{colSpan:5},["Total: ",n.reduce((s,_)=>_.type==="debit"?s-_.amount:s+_.amount,0).toFixed(2)],1,null)],1,null)]},1,"dJ_1"),[d]:{onResolved:d}},3,"dJ_2")],1,null)],1,null),l("div",null,{class:"w-2/12 inline-block"},[l("select",null,{onChange$:r(()=>i(()=>Promise.resolve().then(()=>p),void 0),"s_9AuQJzaipeQ",[e])},[l("option",null,{value:"10",selected:a(n=>n.size===10,[e])},"10",3,null),l("option",null,{value:"20",selected:a(n=>n.size===20,[e])},"20",3,null),l("option",null,{value:"50",selected:a(n=>n.size===50,[e])},"50",3,null),l("option",null,{value:"100",selected:a(n=>n.size===100,[e])},"100",3,null)],3,null),"/ ",a(n=>n.totalCount,[e])],3,null),l("div",null,{class:"w-10/12 inline-block"},[" ",g(D,{get pages(){return e.totalPages},get page(){return e.page},onPaging$:r(()=>i(()=>Promise.resolve().then(()=>p),void 0),"s_ZR4Fw6u45Fg",[e]),[d]:{pages:a(n=>n.totalPages,[e]),page:a(n=>n.page,[e]),onPaging$:d}},3,"dJ_3")],1,null)]},1,"dJ_4")},J=(t,u)=>{const[e]=v(),o=Number(u.value)>0?Number(u.value):20;e.size=o},R=()=>{const[t,u,e]=v();t.selected.selected[u.id]=!t.selected.selected[u.id],e.appStore.selectedId=Object.entries(t.selected.selected).filter(([,o])=>o).map(([o])=>o)},p=Object.freeze(Object.defineProperty({__proto__:null,s_9AuQJzaipeQ:J,s_9DPlHmE9HVc:I,s_JqUMW81M3YE:O,s_ZR4Fw6u45Fg:S,s_epVqIIDHH5g:V,s_guJs0HFUDPE:R,s_v4sVVl7oFk4:C},Symbol.toStringTag,{value:"Module"}));export{J as s_9AuQJzaipeQ,I as s_9DPlHmE9HVc,O as s_JqUMW81M3YE,S as s_ZR4Fw6u45Fg,V as s_epVqIIDHH5g,R as s_guJs0HFUDPE,C as s_v4sVVl7oFk4};
